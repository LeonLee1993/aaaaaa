//
//  BuiedProductDetailViewController.m
//  HDStock
//
//  Created by liyancheng on 16/12/13.
//  Copyright © 2016年 hd-app02. All rights reserved.
//

#import "BuiedProductDetailViewController.h"
#import "BuiedPruductTableViewCell.h"//已购买列表页 头部
#import "buiedProductDetailSecondCell.h"//股票趋势  中部
#import "buiedProductDetailThirdCell.h"//底部

@interface BuiedProductDetailViewController ()<UITableViewDataSource,UITableViewDelegate>
@property (nonatomic,strong) UITableView *tableView1;
@end

@implementation BuiedProductDetailViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    if(!self.tableView1){
        self.tableView1 = [[UITableView alloc]init];
    }
    [self setNavDicWithTitleFont:17 titleColor:[UIColor whiteColor] title:@"项目服务"];
    [self setTableView];
}

- (void)setTableView{
    self.tableView1.delegate = self;
    self.tableView1.dataSource = self;
    self.tableView1.backgroundColor = RGBCOLOR(243, 243, 243);
    [self.tableView1 registerNib:[UINib nibWithNibName:@"BuiedPruductTableViewCell" bundle:nil] forCellReuseIdentifier:@"BuiedPruductTableViewCel"];
    [self.tableView1 registerNib:[UINib nibWithNibName:@"buiedProductDetailSecondCell" bundle:nil] forCellReuseIdentifier:@"buiedProductDetailSecondCell"];
    [self.tableView1 registerNib:[UINib nibWithNibName:@"buiedProductDetailThirdCell" bundle:nil] forCellReuseIdentifier:@"buiedProductDetailThirdCell"];
    self.tableView1.frame = CGRectMake(0, -10, SCREEN_WIDTH, SCREEN_HEIGHT-54);
    [self.view addSubview:_tableView1];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    return 2;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    switch (indexPath.row) {
        case 0:
        {
            BuiedPruductTableViewCell *cell= [tableView dequeueReusableCellWithIdentifier:@"BuiedPruductTableViewCel"];
            return cell;
        }
            break;
        case 1:
        {
            buiedProductDetailSecondCell *cell = [self.tableView1 dequeueReusableCellWithIdentifier:@"buiedProductDetailSecondCell"];
            cell.selectionStyle = UITableViewCellSelectionStyleNone;
            return cell;
        }
            break;
        case 2:
        {
            [self.tableView1 dequeueReusableCellWithIdentifier:@"buiedProductDetailThirdCell"];
        }
            break;
            
        default:
            break;
    }
    return nil;
}

-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{
    switch (indexPath.row) {
        case 0:
        {
            NSString * tempStr = @"强势个股放量突破整理平台后星线回踩确认突破平台，且站稳年线，出现短线介入时机...";
            NSMutableParagraphStyle *style1 = [[NSMutableParagraphStyle alloc] init];
            style1.headIndent = 0;
            style1.firstLineHeadIndent = 0;
            style1.lineSpacing = 9;
            CGSize secondDesc = [tempStr boundingRectWithSize:CGSizeMake(SCREEN_WIDTH-40, MAXFLOAT) options:NSStringDrawingUsesLineFragmentOrigin attributes:@{NSFontAttributeName:[UIFont systemFontOfSize:13],NSParagraphStyleAttributeName:style1} context:nil].size;
            return 120+secondDesc.height-8;
        }
            break;
        case 1:
        {
            return 210;
        }
            break;
        case 2:
        {
        
        }
            break;
        default:
            break;
    }
    return 28;
}

@end
