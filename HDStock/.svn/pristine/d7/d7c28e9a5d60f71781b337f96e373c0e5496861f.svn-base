//
//  HDInfoMationViewController.m
//  HDStock
//
//  Created by hd-app02 on 16/11/14.
//  Copyright © 2016年 hd-app02. All rights reserved.
//

#import "HDInfoMationViewController.h"
#import "ZWTopSelectButton.h"
#import "ZWTopSelectVcView.h"

#import "HDInfoViewController.h"
#import "HDOnlyFaViewController.h"
#import "HDBaskListViewController.h"
#import "HDVideoViewController.h"
#import "HDSearchSomeThingViewController.h"

@interface HDInfoMationViewController ()<ZWTopSelectVcViewDelegate,HDInfoViewDelegate>

@property (nonatomic, strong) ZWTopSelectVcView *topSelectVcView;

@end

@implementation HDInfoMationViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    self.view.backgroundColor = COLOR(whiteColor);
    
    //第一步：初始化ZWTopSelectVcView，把其加入当前控制器view中
    _topSelectVcView=[[ZWTopSelectVcView alloc]init];
    
    _topSelectVcView.frame=CGRectMake(0, 20, self.view.frame.size.width, self.view.frame.size.height - STATUS_HEIGHT - TABBAR_HEIGHT);
    [self.view addSubview:_topSelectVcView];
    
    //第二步：设置ZWTopSelectVcView的代理
    self.topSelectVcView.delegate=self;
    
    self.topSelectVcView.isCloseSwipeGesture = YES;
    
    //第三步： 开始ZWTopSelectVcViewUI绘制,必须实现！
    [self.topSelectVcView setupZWTopSelectVcViewUI];
    
    //控制器切换动画时间
    //self.topSelectVcView.speedTime=1;
    //设置动画效果，默认为push
    // self.topSelectVcView.animationType=8;
    //关闭动画效果
    self.topSelectVcView.isCloseAnimation = YES;
    //隐藏底部滑块
    //self.topSelectVcView.viewUnder.hidden=YES;

    //单个设置(可选) ：通过topSelectVcView找到对应的单个顶部button，从左到右如,topViewFirstbtn，topViewSecondbtn,topViewThirdbtn,以此类推;
    
    [self setupSingleButton];
    [self setupSearchButton];
    
}

- (void)setupSearchButton{

    UIButton * searchButton = [[UIButton alloc]initWithFrame:CGRectMake(self.view.frame.size.width * 4 / 5, 20, self.view.frame.size.width / 5, 50)];
    
        [searchButton setImage:imageNamed(@"ss_icon") forState:UIControlStateNormal];
    
        [searchButton addTarget:self action:@selector(searchButtonOnClicked:) forControlEvents:UIControlEventTouchUpInside];

    [self.view addSubview:searchButton];
}

/**
 *   单个设置(可选) ：
 *   通过topSelectVcView找到对应的单个顶部button，从左到右如,topViewFirstbtn，topViewSecondbtn,topViewThirdbtn,以此类推;
 */
-(void)setupSingleButton
{
    //  优先级最高
    self.topSelectVcView.topViewFirstbtn.labName.text = @"资讯";
    self.topSelectVcView.topViewSecondbtn.labName.text = @"独家";
    self.topSelectVcView.topViewThirdbtn.labName.text = @"晒单";
    self.topSelectVcView.topViewFourthbtn.labName.text = @"视频";

}

- (void)searchButtonOnClicked:(UIButton *)button{

    HDSearchSomeThingViewController * vc = [[HDSearchSomeThingViewController alloc]init];
    
    vc.view.backgroundColor = COLOR(whiteColor);
    
    [self.navigationController pushViewController:vc animated:NO];

}

#pragma mark - ZWTopSelectVcViewDelegate

//初始化设置
-(NSMutableArray *)totalControllerInZWTopSelectVcView:(ZWTopSelectVcView *)topSelectVcView
{
    
    NSMutableArray *controllerMutableArr=[NSMutableArray array];
    
    HDInfoViewController * infoViewCon = [[HDInfoViewController alloc]init];
    
    infoViewCon.delegate = self;
    
    [controllerMutableArr addObject:infoViewCon];
    
    
    [controllerMutableArr addObject:[[HDOnlyFaViewController alloc]init]];
    [controllerMutableArr addObject:[[HDBaskListViewController alloc]init]];
    [controllerMutableArr addObject:[[HDVideoViewController alloc]init]];
    
    return controllerMutableArr;
    
}

#pragma mark - ZWTopSelectVcViewDelegate
//不修改,则为默认
-(void)totalTopZWTopSelectButton:(ZWTopSelectButton *)totalTopBtns IntopSelectVcView:(ZWTopSelectVcView *)topSelectVcView
{
    
    totalTopBtns.labName.font=[UIFont systemFontOfSize:18];
    
    totalTopBtns.selectedColor = MAIN_COLOR;
    
    totalTopBtns.notSelectedColor = COLOR(blackColor);
    
    
}

-(CGFloat)topViewWidthInZWTopSelectVcView:(ZWTopSelectVcView *)topSelectVcView{

    return self.view.frame.size.width * 4 / 5;

}


#pragma mark == InfoViewControllerDelegate
- (void)viewWillAppear:(BOOL)animated{

    [self.navigationController.navigationBar setHidden:YES];

}

- (void)turnToAntherControllerOnClicked:(UIButton *)button toPushToController:(UIViewController *)viewController{

    [self.navigationController pushViewController:viewController animated:YES];

}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
